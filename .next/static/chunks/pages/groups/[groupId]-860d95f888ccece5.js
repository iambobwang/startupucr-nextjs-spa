(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[622],{640:function(e,t,o){"use strict";var r=o(1742),n={"text/plain":"Text","text/html":"Url",default:"Text"};e.exports=function(e,t){var o,a,i,s,c,l,u,p,d=!1;t||(t={}),i=t.debug||!1;try{if(c=r(),l=document.createRange(),u=document.getSelection(),(p=document.createElement("span")).textContent=e,p.ariaHidden="true",p.style.all="unset",p.style.position="fixed",p.style.top=0,p.style.clip="rect(0, 0, 0, 0)",p.style.whiteSpace="pre",p.style.webkitUserSelect="text",p.style.MozUserSelect="text",p.style.msUserSelect="text",p.style.userSelect="text",p.addEventListener("copy",function(o){if(o.stopPropagation(),t.format){if(o.preventDefault(),void 0===o.clipboardData){i&&console.warn("unable to use e.clipboardData"),i&&console.warn("trying IE specific stuff"),window.clipboardData.clearData();var r=n[t.format]||n.default;window.clipboardData.setData(r,e)}else o.clipboardData.clearData(),o.clipboardData.setData(t.format,e)}t.onCopy&&(o.preventDefault(),t.onCopy(o.clipboardData))}),document.body.appendChild(p),l.selectNodeContents(p),u.addRange(l),!document.execCommand("copy"))throw Error("copy command was unsuccessful");d=!0}catch(h){i&&console.error("unable to copy using execCommand: ",h),i&&console.warn("trying IE specific stuff");try{window.clipboardData.setData(t.format||"text",e),t.onCopy&&t.onCopy(window.clipboardData),d=!0}catch(f){i&&console.error("unable to copy using clipboardData: ",f),i&&console.error("falling back to prompt"),o="message"in t?t.message:"Copy to clipboard: #{key}, Enter",a=(/mac os x/i.test(navigator.userAgent)?"âŒ˜":"Ctrl")+"+C",s=o.replace(/#{\s*key\s*}/g,a),window.prompt(s,e)}}finally{u&&("function"==typeof u.removeRange?u.removeRange(l):u.removeAllRanges()),p&&document.body.removeChild(p),c()}return d}},8452:function(e,t,o){(window.__NEXT_P=window.__NEXT_P||[]).push(["/groups/[groupId]",function(){return o(4264)}])},3412:function(e,t,o){"use strict";o.d(t,{Z:function(){return s}});var r=o(5893),n=o(9875),a=o(9134),i=o.n(a);function s(e){let{children:t}=e;return(0,r.jsx)(n.E.main,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.3},layout:"position",className:i().layout,children:t})}},4264:function(e,t,o){"use strict";o.r(t),o.d(t,{default:function(){return O}});var r=o(5893),n=o(7294),a=o(9008),i=o.n(a),s=o(1664),c=o.n(s),l=o(8633),u=o(1163),p=o(9875),d=o(6501),f=o(4855),h=o(3412),y=o(155),_=o(8490),b=o.n(_);function m(e){return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:e.show?"".concat(b().modal," ").concat(b().show):"".concat(b().modal),children:(0,r.jsxs)("div",{children:[(0,r.jsxs)("div",{className:b().header,children:[(0,r.jsx)("div",{children:(0,r.jsx)(y.R5A,{className:b().windowButton,onClick:e.handler})}),(0,r.jsx)("div",{className:b().filler,children:(0,r.jsx)(y.R5A,{className:b().windowButton})})]}),(0,r.jsxs)("div",{className:b().body,children:[(0,r.jsx)("h2",{className:b().heading,children:e.header}),(0,r.jsx)("p",{className:b().caption,children:e.caption}),e.children]})]})}),(0,r.jsx)("div",{className:b().overlay,onClick:e.handler})]})}var g=o(5434),w=o(9583),v=o(359),j=o.n(v),x=o(7913),C=o.n(x);function O(){let e=(0,u.useRouter)(),[t,o]=(0,l.kP)(),[a,s]=(0,n.useState)(!1);var y={};a||(y={hover:{scale:1.02},tap:{scale:.997}});let[_,b]=(0,n.useState)(!1),v=()=>{b(!_)},[x,O]=(0,n.useState)(""),[P,k]=(0,n.useState)([]),[N,S]=(0,n.useState)(""),[E,T]=(0,n.useState)(!1),D=async t=>{let o=await fetch("/api/checkin",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({user:t})}),r=await o.json();0===Object.keys(r.checkins).length&&(e.push("/checkin"),d.ZP.error("Access denied. Please check in!",{id:"notCheckedInGroupPageError"})),r.checkins[0]&&(S(r.checkins[0].qualified),"yes"!==r.checkins[0].qualified?(e.push("/"),d.ZP.error("Access denied. Application has not been approved yet or has been denied.",{id:"notQualifiedYetError"})):R())},F=async()=>{let e=window.location.href,t=e.substr(e.lastIndexOf("/")+1);return t},R=async()=>{let o=await B(t.user.id),r=await F();T(o===r),o!==r?(e.push("/"),d.ZP.error("Access denied. This group does not exist, or you are not in this group.",{id:"invalidGroupError"})):await M(o)},B=async e=>{let t=await fetch("/api/checkin",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({user:e})}),o=await t.json();if(o.checkins[0])return o.checkins[0].groupId},M=async e=>{let t=await fetch("/api/groups",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({group:e})}),o=await t.json();if(o.groups[0]){O(e);let r=[];if(o.groups[0].users){for(let n=0;n<o.groups[0].users.length;n++)r.push(o.groups[0].users[n]);k(r)}return r}},H=async(e,t)=>{let o=await fetch("/api/groups/delete",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({group:[e,t]})});await o.json()},G=async t=>{let o=await M(x);if(1===o.length)await H(x,t);else{let r=[];for(let n=0;n<o.length;n++)o[n].id!==t&&r.push(o[n]);let a=await fetch("/api/groups/leave",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({group:[x,t,r]})});await a.json()}e.push("/"),d.ZP.success("Successfully left the group!",{id:"leaveGroupSuccess"})},I=()=>{s(window.innerWidth<=720)};return((0,n.useEffect)(()=>{window.addEventListener("resize",I),o||t?t&&D(t.user.id):(e.push("/signin"),d.ZP.error("Access denied. Please sign in!",{id:"notSignedInGroupPageError"}))},[o,t,e]),o||"yes"!==N||!E)?(0,r.jsxs)(h.Z,{children:[(0,r.jsx)(i(),{children:(0,r.jsx)("title",{children:"Cutie Hack | Your Group"})}),(0,r.jsx)("p",{children:"Loading..."})]}):(0,r.jsxs)(h.Z,{children:[(0,r.jsx)(i(),{children:(0,r.jsx)("title",{children:"Cutie Hack | Your Group"})}),(0,r.jsx)("div",{className:C().container,children:(0,r.jsxs)("div",{className:C().section,children:[(0,r.jsx)("h1",{children:"Invite Code"}),(0,r.jsx)(f.CopyToClipboard,{text:x,className:j().copywrapper,children:(0,r.jsxs)(p.E.button,{"aria-label":"Copy to Clipboard Button",type:"button",variants:y,whileHover:"hover",whileTap:"tap",transition:{ease:"easeInOut",duration:.015},className:j().copywrapper,onClick:()=>d.ZP.success("Copied to clipboard!"),children:[(0,r.jsx)("div",{className:j().filler,children:(0,r.jsx)(g.Fqs,{})}),(0,r.jsx)("div",{children:x}),(0,r.jsx)(g.Fqs,{className:j().copybutton})]})}),(0,r.jsx)("h1",{children:"Members"}),(0,r.jsx)("div",{className:j().userlist,children:P.map(e=>(0,r.jsxs)("div",{className:j().user,children:[(0,r.jsx)(w.muy,{className:j().bullet}),(0,r.jsx)("div",{children:e.name}),(0,r.jsx)(w.muy,{className:j().filler})]}))}),(0,r.jsx)("div",{className:C().groupbuttonWrapper,children:(0,r.jsx)(p.E.button,{"aria-label":"Leave Group Button",type:"button",variants:y,whileHover:"hover",whileTap:"tap",transition:{ease:"easeInOut",duration:.015},className:C().button,onClick:()=>v(),children:"Leave Group"})}),(0,r.jsx)(c(),{passHref:!0,href:"/",children:(0,r.jsx)(p.E.button,{"aria-label":"Home Button",type:"button",variants:y,whileHover:"hover",whileTap:"tap",transition:{ease:"easeInOut",duration:.015},className:"".concat(C().button," ").concat(C().home),children:"Go Back to Homepage"})}),(0,r.jsx)(m,{show:_,handler:v,header:"Leave Group?",caption:"If you leave, you will need to be reinvited by the remaining members. If no one else is left in the group, the group will be deleted.",children:(0,r.jsxs)("div",{className:j().buttonWrapper,children:[(0,r.jsx)(p.E.button,{"aria-label":"Confirm Leave Button",type:"button",variants:y,whileHover:"hover",whileTap:"tap",transition:{ease:"easeInOut",duration:.015},className:"".concat(C().button," ").concat(C().danger),onClick:()=>G(t.user.id),children:"Confirm"}),(0,r.jsx)(p.E.button,{"aria-label":"Cancel Leave Button",type:"button",variants:y,whileHover:"hover",whileTap:"tap",transition:{ease:"easeInOut",duration:.015},className:"".concat(C().button," ").concat(C().cancel),onClick:()=>v(),children:"Cancel"})]})})]})})]})}},7913:function(e){e.exports={container:"Form_container__QZyVS",section:"Form_section__En4Pt",mainContent:"Form_mainContent__O0Kcr",button:"Form_button__Jsx6p",home:"Form_home__iOoqR",danger:"Form_danger__s1kTK",cancel:"Form_cancel__taASY",inputWrapper:"Form_inputWrapper__nUW_B",inputHeader:"Form_inputHeader__GrJuy",trigger:"Form_trigger__OIRXb",inputBox:"Form_inputBox__sJnvz",dropdown:"Form_dropdown__f9RCB",dropdownHeader:"Form_dropdownHeader__XchyQ",dropdownSelected:"Form_dropdownSelected__EuX6m",dropdownContent:"Form_dropdownContent__H6BNk",show:"Form_show__pe3Bj",radio:"Form_radio__KTpgW",errorMsg:"Form_errorMsg__K4hyJ",triggered:"Form_triggered__buxMD",triggeredBox:"Form_triggeredBox__65jjq",groupbuttonWrapper:"Form_groupbuttonWrapper__wTA22",groupbuttonHeader:"Form_groupbuttonHeader__FXnjC"}},359:function(e){e.exports={userlist:"Group_userlist__NNy_r",user:"Group_user__WDMtH",copywrapper:"Group_copywrapper__PVBbp",copybutton:"Group_copybutton__fH17I",bullet:"Group_bullet__NKx0G",filler:"Group_filler__2bm44",buttonWrapper:"Group_buttonWrapper__o70Mz"}},9134:function(e){e.exports={layout:"Layout_layout__k3ZVO"}},8490:function(e){e.exports={modal:"Modal_modal__yDLSi",show:"Modal_show__igE1a",overlay:"Modal_overlay__C7JRk",header:"Modal_header__iLDRm",windowButton:"Modal_windowButton__lPKWj",filler:"Modal_filler__MC1Mz",heading:"Modal_heading__lnPQn",caption:"Modal_caption__RxiMP",body:"Modal_body__prdbO"}},9008:function(e,t,o){e.exports=o(3121)},4300:function(e,t,o){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.CopyToClipboard=void 0;var n=s(o(7294)),a=s(o(640)),i=["text","onCopy","options","children"];function s(e){return e&&e.__esModule?e:{default:e}}function c(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),o.push.apply(o,r)}return o}function l(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?c(Object(o),!0).forEach(function(t){h(e,t,o[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):c(Object(o)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))})}return e}function u(e,t){for(var o=0;o<t.length;o++){var r=t[o];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function p(e,t){return(p=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function d(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function f(e){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function h(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}var y=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&p(e,t)}(y,e);var t,o,s,c=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,o=f(y);if(t){var n=f(this).constructor;e=Reflect.construct(o,arguments,n)}else e=o.apply(this,arguments);return function(e,t){if(t&&("object"===r(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return d(e)}(this,e)});function y(){var e;!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,y);for(var t=arguments.length,o=Array(t),r=0;r<t;r++)o[r]=arguments[r];return h(d(e=c.call.apply(c,[this].concat(o))),"onClick",function(t){var o=e.props,r=o.text,i=o.onCopy,s=o.children,c=o.options,l=n.default.Children.only(s),u=(0,a.default)(r,c);i&&i(r,u),l&&l.props&&"function"==typeof l.props.onClick&&l.props.onClick(t)}),e}return o=[{key:"render",value:function(){var e=this.props,t=(e.text,e.onCopy,e.options,e.children),o=function(e,t){if(null==e)return{};var o,r,n=function(e,t){if(null==e)return{};var o,r,n={},a=Object.keys(e);for(r=0;r<a.length;r++)o=a[r],t.indexOf(o)>=0||(n[o]=e[o]);return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)o=a[r],!(t.indexOf(o)>=0)&&Object.prototype.propertyIsEnumerable.call(e,o)&&(n[o]=e[o])}return n}(e,i),r=n.default.Children.only(t);return n.default.cloneElement(r,l(l({},o),{},{onClick:this.onClick}))}}],u(y.prototype,o),s&&u(y,s),Object.defineProperty(y,"prototype",{writable:!1}),y}(n.default.PureComponent);t.CopyToClipboard=y,h(y,"defaultProps",{onCopy:void 0,options:void 0})},4855:function(e,t,o){"use strict";var r=o(4300).CopyToClipboard;r.CopyToClipboard=r,e.exports=r},1742:function(e){e.exports=function(){var e=document.getSelection();if(!e.rangeCount)return function(){};for(var t=document.activeElement,o=[],r=0;r<e.rangeCount;r++)o.push(e.getRangeAt(r));switch(t.tagName.toUpperCase()){case"INPUT":case"TEXTAREA":t.blur();break;default:t=null}return e.removeAllRanges(),function(){"Caret"===e.type&&e.removeAllRanges(),e.rangeCount||o.forEach(function(t){e.addRange(t)}),t&&t.focus()}}}},function(e){e.O(0,[228,774,888,179],function(){return e(e.s=8452)}),_N_E=e.O()}]);